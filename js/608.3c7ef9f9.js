"use strict";(self["webpackChunkrick_and_morty"]=self["webpackChunkrick_and_morty"]||[]).push([[608],{1608:function(a,e,l){l.r(e),l.d(e,{default:function(){return x}});var t=l(3396),s=l(4870),u=l(7139);const n="https://rickandmortyapi.com/api/character/";async function c(a={}){const e=Object.keys(a).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(a[e])}`)).join("&"),l=`${n}${e?`?${e}`:""}`;try{const a=await fetch(l),e=await a.json();return e}catch(t){throw new Error("Error fetching data")}}const o=a=>((0,t.dD)("data-v-99a084f4"),a=a(),(0,t.Cn)(),a),r={class:"card__header"},i={class:"card__name"},d={class:"card__status"},v={class:"card__image"},_=["src"],p={class:"card__episodes"},m=o((()=>(0,t._)("h3",{class:"card__episodes-title"},"Список эпизодов",-1))),g={class:"card__episodes-list"};var w={__name:"CardsPerson",props:{dataResults:{type:Object}},setup(a){const e=a,l=(0,t.Fl)((()=>e.dataResults.results));return(a,e)=>((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(l.value,(a=>((0,t.wg)(),(0,t.iD)("div",{class:"card",key:a.id},[(0,t._)("div",r,[(0,t._)("h2",i,(0,u.zw)(a.name),1),(0,t._)("p",d,(0,u.zw)(a.status),1)]),(0,t._)("div",v,[(0,t._)("img",{src:`${a.image}`,alt:"Изображение персонажа"},null,8,_)]),(0,t._)("div",p,[m,(0,t._)("ul",g,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.episoders,((a,e)=>((0,t.wg)(),(0,t.iD)("li",{class:"card__episode",key:e},(0,u.zw)(a),1)))),128))])])])))),128))}},f=l(89);const k=(0,f.Z)(w,[["__scopeId","data-v-99a084f4"]]);var y=k;const h=a=>((0,t.dD)("data-v-0a8c8952"),a=a(),(0,t.Cn)(),a),b={class:"header"},H=h((()=>(0,t._)("h3",{class:"header__title"},"RICK AND MORTY",-1))),C=[H];function D(a,e,l,s,u,n){return(0,t.wg)(),(0,t.iD)("header",b,C)}var I={name:"DefaultHeader"};const S=(0,f.Z)(I,[["render",D],["__scopeId","data-v-0a8c8952"]]);var V=S,W={__name:"DefaultButton",props:{color:{type:String}},setup(a){const e=a,l=(0,s.iH)("");function n(){l.value=`custom-button ${e.color}-button`}return(0,t.YP)((()=>e.color),n),(0,t.wF)(n),(e,l)=>((0,t.wg)(),(0,t.iD)("button",{class:(0,u.C_)(a.color)},[(0,t.WI)(e.$slots,"default")],2))}};const U=(0,f.Z)(W,[["__scopeId","data-v-4df76309"]]);var $=U;const q=["data-value","data-list"],O={class:"aselect__selector-label"},R={key:0,class:"aselect__list"},z=["onClick"];var P={__name:"CustomSelect",props:{defaultValue:{type:[String,Object]},list:{type:Array},uniqueId:{type:String,default:"999"}},emits:["value-сhange"],setup(a,{emit:e}){const l=a,n=e,c=a=>`newDefaultValue_${a}`,o=()=>{const a=localStorage.getItem(c(l.uniqueId));return a?JSON.parse(a):null},r=a=>{localStorage.setItem(c(l.uniqueId),JSON.stringify(a))};(0,t.YP)((()=>l.defaultValue),(a=>{const e=(0,s.iH)(a);d.value=e.value,r(d.value)}));const i=(0,s.iH)(!1),d=(0,s.iH)(o()||l.defaultValue),v=()=>{i.value=!i.value},_=a=>{d.value=a,r(d.value),n("value-сhange",d.value)};return(e,l)=>((0,t.wg)(),(0,t.iD)("div",{class:"aselect","data-value":d.value,"data-list":a.list},[(0,t._)("div",{class:"aselect__selector",onClick:l[0]||(l[0]=a=>v())},[(0,t._)("div",O,[(0,t._)("span",null,(0,u.zw)(d.value),1),(0,t._)("div",{class:(0,u.C_)(["aselect__selector-arrow",{"aselect__selector-arrow_active":i.value}])},null,2)]),i.value?((0,t.wg)(),(0,t.iD)("ul",R,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.list,((a,e)=>((0,t.wg)(),(0,t.iD)("li",{key:e,class:(0,u.C_)(["aselect__item",{current:a===d.value}]),onClick:e=>_(a)},(0,u.zw)(a),11,z)))),128))])):(0,t.kq)("",!0)])],8,q))}};const j=(0,f.Z)(P,[["__scopeId","data-v-06654387"]]);var N=j;const Y={class:"product"},E={class:"container"},Z={class:"product__select"},F={class:"product__container"},J={class:"product__wrapper"},K={key:0},A={key:1},G={class:"product__pagination"};var M={__name:"MyProducts",setup(a){const e=(0,s.iH)([]),l=(0,s.iH)([]),n=(0,s.iH)(!1),o=(0,s.iH)(null),r=(0,s.iH)(1),i=(0,s.iH)(null),d=(0,s.iH)(["alive","dead","unknown"]),v=(0,s.iH)(["female","male","genderless","unknown"]),_=(0,s.iH)("Status"),p=(0,s.iH)("Gender"),m=(0,s.iH)(""),g=(0,s.iH)(""),w=(0,t.Fl)((()=>1===r.value)),f=(0,t.Fl)((()=>r.value===i.value)),k=localStorage.getItem("paramsQuery");if(k){const a=JSON.parse(k);m.value=a.status,g.value=a.gender}(0,t.bv)((()=>{W()}));const h=(a,e)=>l=>{a.includes(l)&&(e.value=l)},b=h(d.value,m),H=h(v.value,g),C=()=>{g.value="",m.value="",p.value=(0,s.iH)("Gender"),_.value=(0,s.iH)("Status"),W()},D=a=>{r.value=a,W()},I=()=>{r.value>1&&D(r.value-1)},S=()=>{r.value<i.value&&D(r.value+1)},W=async()=>{n.value=!0;try{const a={page:r.value,gender:g.value,status:m.value};localStorage.setItem("paramsQuery",JSON.stringify(a)),e.value=await c(a);const t=await Promise.all(e.value.results.map((async a=>Promise.all(a.episode.map((async a=>(await(await fetch(a)).json()).name))))));return l.value=t,e.value.results.forEach(((a,e)=>{a.episoders=l.value[e]})),i.value=e.value.info.pages,e.value}catch(o){throw console.error("Error fetching data:",o.message),o.value="Error fetching data",o}finally{n.value=!1}};return(a,l)=>((0,t.wg)(),(0,t.iD)("div",Y,[(0,t.Wm)(V),(0,t._)("div",E,[(0,t._)("div",Z,[(0,t.Wm)(N,{list:d.value,defaultValue:_.value,uniqueId:"1","onValue-сhange":(0,s.SU)(b)},null,8,["list","defaultValue","onValue-сhange"]),(0,t.Wm)(N,{list:v.value,defaultValue:p.value,uniqueId:"2","onValue-сhange":(0,s.SU)(H)},null,8,["list","defaultValue","onValue-сhange"]),(0,t.Wm)($,{color:"primary-button",onClick:W},{default:(0,t.w5)((()=>[(0,t.Uk)(" Применить ")])),_:1}),(0,t.Wm)($,{color:"secondary-button",onClick:C},{default:(0,t.w5)((()=>[(0,t.Uk)(" Сбросить фильтры ")])),_:1})]),(0,t._)("div",F,[(0,t._)("div",J,[(0,t.Wm)(y,{dataResults:e.value},null,8,["dataResults"]),null!==o.value?((0,t.wg)(),(0,t.iD)("p",K,(0,u.zw)(o.value),1)):(0,t.kq)("",!0),n.value?((0,t.wg)(),(0,t.iD)("p",A,"Is loading...")):(0,t.kq)("",!0)]),(0,t._)("div",G,[(0,t.Wm)($,{color:"secondary-button",onClick:l[0]||(l[0]=a=>D(1))},{default:(0,t.w5)((()=>[(0,t.Uk)(" 1 ")])),_:1}),(0,t.Wm)($,{disabled:w.value,color:"secondary-button",onClick:I},{default:(0,t.w5)((()=>[(0,t.Uk)(" Previous ")])),_:1},8,["disabled"]),(0,t.Wm)($,{disabled:f.value,color:"secondary-button",onClick:S},{default:(0,t.w5)((()=>[(0,t.Uk)(" Next ")])),_:1},8,["disabled"]),(0,t.Wm)($,{disabled:f.value,color:"secondary-button",onClick:l[1]||(l[1]=a=>D(i.value))},{default:(0,t.w5)((()=>[(0,t.Uk)((0,u.zw)(i.value),1)])),_:1},8,["disabled"])])])])]))}};const Q=(0,f.Z)(M,[["__scopeId","data-v-d46c34d2"]]);var x=Q}}]);
//# sourceMappingURL=608.3c7ef9f9.js.map